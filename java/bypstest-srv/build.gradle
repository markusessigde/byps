apply plugin: 'eclipse-wtp'
apply plugin: 'war'

sourceCompatibility = 1.8

compileJava.options.encoding = 'UTF-8'

// Make sure to compile with a JDK 8
// If you would coose a JDK >= 9, you run into a NoSuchMethodError: java.nio.ByteBuffer.flip() on Java 8.
compileJava.options.fork = true
compileJava.options.forkOptions.executable = "c:\\Program Files\\Java\\jdk1.8.0_201\\bin\\javac.exe"

version = '5.31'

eclipse {

  wtp {
    facet {
      facet name: 'jst.web', version: '2.4'
    }

    component{
      resource sourcePath: 'WebContent', deployPath: '/'
      }
  }
}


sourceSets {
    main {
        java {
            srcDir 'src'
        }
        resources {
       		srcDir 'res'
        }
    }
}


jar {
    manifest {
        attributes 'Implementation-Title': 'BYPS-test-srv',
                   'Implementation-Version': version
    }
}

repositories {
    mavenCentral()
    
//   flatDir {
//        dirs 'lib'
//    }
}

dependencies {
	compile project(":bypstest-servlet")
	compile project(":bypshttp")
	compile project(":bypstest-api")
	compile project(":bypstest-ser")
	compile project(":bypstest-ser-json")
	
	compileOnly group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.0.+'
	
	compile("ch.qos.logback:logback-classic:1.2.3")
	
}


